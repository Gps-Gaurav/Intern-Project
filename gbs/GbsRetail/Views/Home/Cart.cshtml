@model IEnumerable<Utility.Models.CartModel>
@{
    var customer = new Utility.ResultModel.CustomerModel();
    var address = new List<UserAddressModel>();
    if (ViewBag.user != null)
    {
        customer = (Utility.ResultModel.CustomerModel)ViewBag.user;
    }
    if (ViewBag.address != null)
    {
        address = (List<UserAddressModel>)ViewBag.address;
    }
}
  <!-- BREADCRUMB AREA START -->
<div class="ps-shopping">
    <div class="container">
        <ul class="ps-breadcrumb">
            <li class="ps-breadcrumb__item"><a href="index.html">Home</a></li>
            <li class="ps-breadcrumb__item"><a class="active" aria-current="page" href="#">Shopping cart</a></li>
        </ul>
        <h3 class="ps-shopping__title">Shopping cart<span class="badge">3</span></h3>
        <div class="ps-shopping__content">
            <div class="row">
                <div class="col-12 col-lg-8">
                    <ul class="ps-shopping__list">
                        <li>
                            <div class="ps-product ps-product--wishlist">
                                <div class="ps-product__remove"><a href="#"><img src="img/icon/close.svg" alt="" /></a></div>
                                <div class="ps-product__thumbnail">
                                    <a class="ps-product__image" href="product-1.html">
                                        <figure>
                                            <img class="ps-product__image-default" src="img/products/1.jpg" alt="alt" />
                                        </figure>
                                    </a>
                                </div>
                                <div class="ps-product__content">
                                    <h5 class="ps-product__title"><a href="product-1.html">Somersung Sonic X2500 Pro White</a></h5>
                                    <div class="ps-product__row">
                                        <div class="ps-product__label">Price:</div>
                                        <div class="ps-product__value">
                                            <span class="ps-product__price">$399.99</span>
                                        </div>
                                    </div>
                                    <div class="ps-product__row ps-product__stock">
                                        <div class="ps-product__label">Stock:</div>
                                        <div class="ps-product__value">
                                            <span class="ps-product__in-stock">In Stock</span>
                                        </div>
                                    </div>
                                    <div class="ps-product__cart">
                                        <a class="ps-btn ps-btn--rounded ps-btn--dark" href="#" data-toggle="modal" data-target="#popupAddcart">Add to cart</a>
                                    </div>
                                    <div class="ps-product__row ps-product__quantity">
                                        <div class="ps-product__label">Quantity:</div>
                                        <div class="ps-product__value">
                                            <div class="def-number-input number-input safari_only">
                                                <button class="minus" onclick="this.parentNode.querySelector('input[type=number]').stepDown()"><img src="img/icon/minus.svg" alt="" /></button>
                                                <input class="quantity" min="0" name="quantity" value="1" type="number" />
                                                <button class="plus" onclick="this.parentNode.querySelector('input[type=number]').stepUp()"><img src="img/icon/plus.svg" alt="" /></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ps-product__row ps-product__subtotal">
                                        <div class="ps-product__label">Subtotal:</div>
                                        <div class="ps-product__value">$399.99</div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="ps-product ps-product--wishlist">
                                <div class="ps-product__remove"><a href="#"><img src="img/icon/close.svg" alt="" /></a></div>
                                <div class="ps-product__thumbnail">
                                    <a class="ps-product__image" href="product-1.html">
                                        <figure>
                                            <img class="ps-product__image-default" src="img/products/4.jpg" alt="alt" />
                                        </figure>
                                    </a>
                                </div>
                                <div class="ps-product__content">
                                    <h5 class="ps-product__title"><a href="product-1.html">Digital Thermometer X30-Pro</a></h5>
                                    <div class="ps-product__row">
                                        <div class="ps-product__label">Price:</div>
                                        <div class="ps-product__value">
                                            <span class="ps-product__price sale">$77.65</span><span class="ps-product__del">$80.65</span>
                                        </div>
                                    </div>
                                    <div class="ps-product__row ps-product__stock">
                                        <div class="ps-product__label">Stock:</div>
                                        <div class="ps-product__value">
                                            <span class="ps-product__in-stock">In Stock</span>
                                        </div>
                                    </div>
                                    <div class="ps-product__cart">
                                        <a class="ps-btn ps-btn--rounded ps-btn--dark" href="#" data-toggle="modal" data-target="#popupAddcart">Add to cart</a>
                                    </div>
                                    <div class="ps-product__row ps-product__quantity">
                                        <div class="ps-product__label">Quantity:</div>
                                        <div class="ps-product__value">
                                            <div class="def-number-input number-input safari_only">
                                                <button class="minus" onclick="this.parentNode.querySelector('input[type=number]').stepDown()"><img src="img/icon/minus.svg" alt="" /></button>
                                                <input class="quantity" min="0" name="quantity" value="1" type="number" />
                                                <button class="plus" onclick="this.parentNode.querySelector('input[type=number]').stepUp()"><img src="img/icon/plus.svg" alt="" /></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="ps-product__row ps-product__subtotal">
                                        <div class="ps-product__label">Subtotal:</div>
                                        <div class="ps-product__value">$77.65</div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <div class="ps-shopping__table">
                        <table class="table ps-table ps-table--product">
                            <thead>
                                <tr>
                                    <th class="ps-table__product">Product</th>
                                    <th class="ps-table__meta">Price</th>
                                    <th class="ps-table__quantity">Quantity</th>
                                    <th class="ps-table__subtotal">Subtotal</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="ps-table__product">
                                        <div class="ps-table__box">
                                            <div class="ps-table__remove"> <a href="#"><img src="img/icon/close.svg" alt=""></a></div>
                                            <div class="ps-product ps-product--standard">
                                                <div class="ps-product__thumbnail">
                                                    <a class="ps-product__image" href="product-1.html">
                                                        <figure>
                                                            <img class="ps-product__image-default" src="img/products/1.jpg" alt="alt" />
                                                        </figure>
                                                    </a>
                                                    <div class="ps-product__actions">
                                                        <div class="ps-product__item" data-toggle="tooltip" data-placement="left" title="Wishlist"><a href="wishlist.html"><i class="fa fa-heart-o"></i></a></div>
                                                        <div class="ps-product__item rotate" data-toggle="tooltip" data-placement="left" title="Add to compare"><a href="#" data-toggle="modal" data-target="#popupCompare"><i class="fa fa-align-left"></i></a></div>
                                                        <div class="ps-product__item" data-toggle="tooltip" data-placement="left" title="Quick view"><a href="#" data-toggle="modal" data-target="#popupQuickview"><i class="fa fa-search"></i></a></div>
                                                    </div>
                                                    <div class="ps-product__badge">
                                                    </div><a class="ps-btn ps-btn--dark ps-product__cart" href="#" data-toggle="modal" data-target="#popupAddcart">Add to cart</a>
                                                </div>
                                                <div class="ps-product__mobile"><a class="ps-product__item" href="#" data-toggle="modal" data-target="#popupAddcart"><img src="img/icon/cart.svg" alt="" /></a><a class="ps-product__item" href="wishlist.html"><i class="fa fa-heart-o"></i></a><a class="ps-product__item rotate" href="compare.html"><i class="fa fa-align-left"></i></a></div>
                                                <div class="ps-product__content">
                                                    <h5 class="ps-product__title"><a href="product-1.html">Somersung Sonic X2500 Pro White</a></h5>
                                                    <p class="ps-product__selected">Black, M</p>
                                                    <div class="ps-product__meta">
                                                        <span class="ps-product__price">$399.99</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="ps-table__meta">
                                        <span class="ps-table__price">$399.99</span>
                                    </td>
                                    <td class="ps-table__quantity">
                                        <div class="def-number-input number-input safari_only">
                                            <button class="minus" onclick="this.parentNode.querySelector('input[type=number]').stepDown()"><img src="img/icon/minus.svg" alt=""></button>
                                            <input class="quantity" min="0" name="quantity" value="1" type="number">
                                            <button class="plus" onclick="this.parentNode.querySelector('input[type=number]').stepUp()"><img src="img/icon/plus.svg" alt=""></button>
                                        </div>
                                    </td>
                                    <td class="ps-table__subtotal">
                                        <span class="ps-table__price">$399.99</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="ps-table__product">
                                        <div class="ps-table__box">
                                            <div class="ps-table__remove"> <a href="#"><img src="img/icon/close.svg" alt=""></a></div>
                                            <div class="ps-product ps-product--standard">
                                                <div class="ps-product__thumbnail">
                                                    <a class="ps-product__image" href="product-1.html">
                                                        <figure>
                                                            <img class="ps-product__image-default" src="img/products/4.jpg" alt="alt" />
                                                        </figure>
                                                    </a>
                                                    <div class="ps-product__actions">
                                                        <div class="ps-product__item" data-toggle="tooltip" data-placement="left" title="Wishlist"><a href="wishlist.html"><i class="fa fa-heart-o"></i></a></div>
                                                        <div class="ps-product__item rotate" data-toggle="tooltip" data-placement="left" title="Add to compare"><a href="#" data-toggle="modal" data-target="#popupCompare"><i class="fa fa-align-left"></i></a></div>
                                                        <div class="ps-product__item" data-toggle="tooltip" data-placement="left" title="Quick view"><a href="#" data-toggle="modal" data-target="#popupQuickview"><i class="fa fa-search"></i></a></div>
                                                    </div>
                                                    <div class="ps-product__badge">
                                                    </div><a class="ps-btn ps-btn--dark ps-product__cart" href="#" data-toggle="modal" data-target="#popupAddcart">Add to cart</a>
                                                </div>
                                                <div class="ps-product__mobile"><a class="ps-product__item" href="#" data-toggle="modal" data-target="#popupAddcart"><img src="img/icon/cart.svg" alt="" /></a><a class="ps-product__item" href="wishlist.html"><i class="fa fa-heart-o"></i></a><a class="ps-product__item rotate" href="compare.html"><i class="fa fa-align-left"></i></a></div>
                                                <div class="ps-product__content">
                                                    <h5 class="ps-product__title"><a href="product-1.html">Digital Thermometer X30-Pro</a></h5>
                                                    <p class="ps-product__selected">Black, M</p>
                                                    <div class="ps-product__meta">
                                                        <span class="ps-product__price sale">$77.65</span><span class="ps-product__del">$80.65</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="ps-table__meta">
                                        <span class="ps-table__price sale">$77.65</span><span class="ps-table__del">$80.65</span>
                                    </td>
                                    <td class="ps-table__quantity">
                                        <div class="def-number-input number-input safari_only">
                                            <button class="minus" onclick="this.parentNode.querySelector('input[type=number]').stepDown()"><img src="img/icon/minus.svg" alt=""></button>
                                            <input class="quantity" min="0" name="quantity" value="1" type="number">
                                            <button class="plus" onclick="this.parentNode.querySelector('input[type=number]').stepUp()"><img src="img/icon/plus.svg" alt=""></button>
                                        </div>
                                    </td>
                                    <td class="ps-table__subtotal">
                                        <span class="ps-table__price sale">$77.65</span><span class="ps-table__del">$80.65</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="ps-shopping__footer">
                        <div class="ps-shopping__coupon">
                            <input class="form-control ps-input" type="text" placeholder="Coupon code"><a class="ps-shopping__action" href="#">Apply </a>
                        </div>
                        <div class="ps-shopping__button"><a class="ps-shopping__action" href="#">Update cart</a></div>
                    </div>
                </div>
                <div class="col-12 col-lg-4">
                    <div class="ps-shopping__box">
                        <h3 class="ps-title">Cart totals</h3>
                        <div class="ps-shopping__row">
                            <div class="ps-shopping__label">Subtotal</div>
                            <div class="ps-shopping__price">$120.46</div>
                        </div>
                        <div class="ps-shopping__row">
                            <div class="ps-shopping__label">Shipping</div>
                            <div class="ps-shopping__text">Enter your address to view shipping options. </div>
                        </div>
                        <div class="ps-shopping__row" style="border-bottom: none;">
                            <div class="ps-shopping__label">Total</div>
                            <div class="ps-shopping__total">$120.46</div>
                        </div>
                        <div class="ps-shopping__checkout"><a class="ps-btn ps-btn--rounded ps-btn--dark" href="checkout.html">Proceed to checkout</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    <!-- BREADCRUMB AREA END -->
    
@if (Model.Count()>0)
{
    
    <!-- SHOPING CART AREA START -->
    <div class="liton__shoping-cart-area mb-120">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="shoping-cart-inner">
                        <div class="shoping-cart-table table-responsive">
                            <table class="table">
                                <!-- <thead>
                                    <th class="cart-product-remove">Remove</th>
                                    <th class="cart-product-image">Image</th>
                                    <th class="cart-product-info">Product</th>
                                    <th class="cart-product-price">Price</th>
                                    <th class="cart-product-quantity">Quantity</th>
                                    <th class="cart-product-subtotal">Subtotal</th>
                                </thead> -->
                                <tbody>
                                    @foreach (var item in Model)
                                    {
                                         <tr>
                                        <td onclick="remove_cartitem(@item.product_id)" class="cart-product-remove">x</td>
                                        <td class="cart-product-image">
                                            <a href="product-details?modelno=@item.modelno"><img src="@item.image" alt="#"></a>
                                        </td>
                                        <td class="cart-product-info">
                                            <h4><a href="product-details?modelno=@item.modelno" >@item.product_name</a></h4>
                                        </td>
                                        <td class="cart-product-price">@item.price</td>
                                        <td class="cart-product-quantity">
                                              <div class="cart-plus-minus">
                                                <div onclick="update_cartitem(@item.product_id,'remove')" class="dec qtybutton">-</div>
                                                <input type="text"  value="@item.qty" name="qtybutton" class="cart-plus-minus-box">
                                               <div onclick="update_cartitem(@item.product_id,'add')" class="inc qtybutton">+</div>
                                            </div>
                                        </td>
                                        <td class="cart-product-subtotal">@(item.price*item.qty)</td>
                                    </tr>  
                                    }    
                                 
                                  
                                </tbody>
                            </table>
                        </div>
                        <div class="shoping-cart-total mt-50">
                            <h4>Cart Totals</h4>
                            <table class="table">
                                <tbody>
                                    <tr>
                                        <td>Cart Subtotal</td>
                                        <td>₹ @(Model.Sum(m=>m.price*m.qty))</td>
                                    </tr>
                                    <tr>
                                        <td>Shipping and Handing</td>
                                        <td>₹ 65</td>
                                    </tr>
                                   
                                    <tr>
                                        <td><strong>Order Total</strong></td>
                                        <td><strong>₹ @(Model.Sum(m=>m.price*m.qty)+65)</strong></td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="btn-wrapper text-right">
                                <a href="/checkout" class="theme-btn-1 btn btn-effect-1">Proceed to checkout</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
     }
    else{
            <div class="ltn__404-area ltn__404-area-1 mb-120">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="error-404-inner text-center">
                       
                        <h2>Empty Cart!</h2>
                    
                        <div class="btn-wrapper">
                            <a href="/" class="btn btn-transparent"><i class="fas fa-long-arrow-alt-left"></i> BACK TO HOME</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    }
    <!-- SHOPING CART AREA END -->

  